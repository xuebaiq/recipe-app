# ğŸš€ èœè°±æ¨èç³»ç»Ÿ - éƒ¨ç½²æŒ‡å—

## ğŸ“‹ ç›®å½•
- [æ–¹æ¡ˆå¯¹æ¯”](#æ–¹æ¡ˆå¯¹æ¯”)
- [Railwayéƒ¨ç½²ï¼ˆæ¨èï¼‰](#railwayéƒ¨ç½²æ¨è)
- [Renderéƒ¨ç½²](#renderéƒ¨ç½²)
- [Dockeréƒ¨ç½²](#dockeréƒ¨ç½²)
- [è‡ªå»ºæœåŠ¡å™¨éƒ¨ç½²](#è‡ªå»ºæœåŠ¡å™¨éƒ¨ç½²)

---

## æ–¹æ¡ˆå¯¹æ¯”

| å¹³å° | å…è´¹é¢åº¦ | ä¼˜ç‚¹ | ç¼ºç‚¹ | æ¨èåº¦ |
|------|---------|------|------|--------|
| **Railway** | $5/æœˆ | è¶…ç®€å•ï¼Œå®Œç¾æ”¯æŒFlask | å…è´¹é¢åº¦æœ‰é™ | â­â­â­â­â­ |
| **Render** | æ°¸ä¹…å…è´¹ | æ°¸ä¹…å…è´¹ | 15åˆ†é’Ÿä¼‘çœ  | â­â­â­â­ |
| **PythonAnywhere** | æ°¸ä¹…å…è´¹ | ä¸“é—¨Pythonæ‰˜ç®¡ | APIé™åˆ¶ | â­â­â­ |
| **Vercel** | âŒ ä¸æ”¯æŒ | - | ä¸æ”¯æŒFlask | âŒ |
| **è‡ªå»ºæœåŠ¡å™¨** | çœ‹æˆæœ¬ | æœ€çµæ´» | éœ€è¦è‡ªå·±ç»´æŠ¤ | â­â­â­â­ |

---

## Railwayéƒ¨ç½²ï¼ˆæ¨èï¼‰

### ä¼˜ç‚¹
- âœ… æœ€ç®€å•ï¼Œ5åˆ†é’Ÿæå®š
- âœ… è‡ªåŠ¨æ£€æµ‹Pythoné¡¹ç›®
- âœ… æ°¸ä¹…åŸŸåï¼šxxx.railway.app
- âœ… å…è´¹é¢åº¦ï¼š$5/æœˆï¼ˆè¶³å¤Ÿä¸ªäººä½¿ç”¨ï¼‰

### éƒ¨ç½²æ­¥éª¤

#### 1. å‡†å¤‡GitHubä»“åº“
```bash
cd recipe-app

# åˆå§‹åŒ–Gitï¼ˆå¦‚æœè¿˜æ²¡æœ‰ï¼‰
git init
git add .
git commit -m "Initial commit"

# æ¨é€åˆ°GitHub
git remote add origin https://github.com/ä½ çš„ç”¨æˆ·å/recipe-app.git
git push -u origin main
```

#### 2. éƒ¨ç½²åˆ°Railway

1. **æ³¨å†Œè´¦å·**ï¼šè®¿é—® https://railway.app
2. **åˆ›å»ºé¡¹ç›®**ï¼š
   - ç‚¹å‡» "New Project"
   - é€‰æ‹© "Deploy from GitHub repo"
   - æˆæƒGitHubå¹¶é€‰æ‹©ä»“åº“
3. **è‡ªåŠ¨éƒ¨ç½²**ï¼š
   - Railwayè‡ªåŠ¨æ£€æµ‹åˆ°Pythoné¡¹ç›®
   - è‡ªåŠ¨å®‰è£…ä¾èµ–
   - è‡ªåŠ¨å¯åŠ¨æœåŠ¡
4. **è·å–åŸŸå**ï¼š
   - åœ¨é¡¹ç›®è®¾ç½®ä¸­ç‚¹å‡» "Generate Domain"
   - è·å¾—ï¼šxxx.railway.app

#### 3. ç¯å¢ƒå˜é‡é…ç½®ï¼ˆå¯é€‰ï¼‰

å¦‚æœéœ€è¦ä½¿ç”¨ç¡…åŸºæµåŠ¨APIï¼š
- åœ¨Railwayé¡¹ç›®è®¾ç½®ä¸­æ·»åŠ ç¯å¢ƒå˜é‡ï¼š
  ```
  SILICONFLOW_API_KEY=ä½ çš„æ–°API_Key
  ```

---

## Renderéƒ¨ç½²

### ä¼˜ç‚¹
- âœ… æ°¸ä¹…å…è´¹å¥—é¤
- âœ… è‡ªåŠ¨SSLè¯ä¹¦
- âœ… ä»GitHubè‡ªåŠ¨éƒ¨ç½²

### ç¼ºç‚¹
- âš ï¸ å…è´¹å¥—é¤15åˆ†é’Ÿæ— è®¿é—®ä¼šä¼‘çœ 
- âš ï¸ é¦–æ¬¡å”¤é†’éœ€30ç§’

### éƒ¨ç½²æ­¥éª¤

#### 1. æ³¨å†Œå¹¶è¿æ¥GitHub
1. è®¿é—® https://render.com
2. æ³¨å†Œè´¦å·å¹¶è¿æ¥GitHub

#### 2. åˆ›å»ºWeb Service
1. ç‚¹å‡» "New" â†’ "Web Service"
2. é€‰æ‹©ä½ çš„GitHubä»“åº“
3. é…ç½®ï¼š
   ```
   Name: recipe-app
   Environment: Python 3
   Build Command: pip install -r backend/requirements.txt
   Start Command: cd backend && gunicorn app:app --bind 0.0.0.0:$PORT
   ```
4. é€‰æ‹© "Free" å¥—é¤
5. ç‚¹å‡» "Create Web Service"

#### 3. ç¯å¢ƒå˜é‡ï¼ˆå¯é€‰ï¼‰
åœ¨Environmentæ ‡ç­¾æ·»åŠ ï¼š
```
SILICONFLOW_API_KEY=ä½ çš„API_Key
```

---

## Dockeréƒ¨ç½²

### åˆ›å»ºDockerfile

åˆ›å»º `Dockerfile`ï¼š
```dockerfile
FROM python:3.10-slim

WORKDIR /app

# å¤åˆ¶ä¾èµ–æ–‡ä»¶
COPY backend/requirements.txt .

# å®‰è£…ä¾èµ–
RUN pip install --no-cache-dir -r requirements.txt

# å¤åˆ¶é¡¹ç›®æ–‡ä»¶
COPY backend/ ./backend/
COPY frontend/ ./frontend/

# æš´éœ²ç«¯å£
EXPOSE 5000

# è®¾ç½®å·¥ä½œç›®å½•
WORKDIR /app/backend

# å¯åŠ¨åº”ç”¨
CMD ["gunicorn", "app:app", "--bind", "0.0.0.0:5000"]
```

### æ„å»ºå¹¶è¿è¡Œ
```bash
# æ„å»ºé•œåƒ
docker build -t recipe-app .

# è¿è¡Œå®¹å™¨
docker run -d -p 5000:5000 --name recipe-app recipe-app

# è®¿é—®
http://localhost:5000
```

---

## è‡ªå»ºæœåŠ¡å™¨éƒ¨ç½²

### æ–¹æ¡ˆ1ï¼šä½¿ç”¨Nginx + Gunicornï¼ˆæ¨èï¼‰

#### 1. å®‰è£…ä¾èµ–
```bash
# è¿æ¥åˆ°æœåŠ¡å™¨
ssh user@your-server.com

# å®‰è£…Pythonå’Œä¾èµ–
sudo apt update
sudo apt install python3.10 python3-pip nginx -y

# ä¸Šä¼ é¡¹ç›®
git clone https://github.com/ä½ çš„ç”¨æˆ·å/recipe-app.git
cd recipe-app/backend

# å®‰è£…Pythonä¾èµ–
pip3 install -r requirements.txt
```

#### 2. é…ç½®Gunicorn
åˆ›å»º `gunicorn_config.py`ï¼š
```python
bind = "127.0.0.1:5000"
workers = 2
timeout = 120
```

å¯åŠ¨Gunicornï¼š
```bash
gunicorn -c gunicorn_config.py app:app
```

#### 3. é…ç½®Nginx
ç¼–è¾‘ `/etc/nginx/sites-available/recipe-app`ï¼š
```nginx
server {
    listen 80;
    server_name your-domain.com;

    location / {
        proxy_pass http://127.0.0.1:5000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }

    location /static {
        alias /path/to/recipe-app/frontend/static;
    }
}
```

å¯ç”¨é…ç½®ï¼š
```bash
sudo ln -s /etc/nginx/sites-available/recipe-app /etc/nginx/sites-enabled/
sudo nginx -t
sudo systemctl restart nginx
```

#### 4. ä½¿ç”¨Systemdç®¡ç†æœåŠ¡
åˆ›å»º `/etc/systemd/system/recipe-app.service`ï¼š
```ini
[Unit]
Description=Recipe Recommendation App
After=network.target

[Service]
User=www-data
WorkingDirectory=/path/to/recipe-app/backend
ExecStart=/usr/bin/gunicorn -c gunicorn_config.py app:app
Restart=always

[Install]
WantedBy=multi-user.target
```

å¯åŠ¨æœåŠ¡ï¼š
```bash
sudo systemctl start recipe-app
sudo systemctl enable recipe-app
```

---

## ğŸ”’ é…ç½®SSLè¯ä¹¦ï¼ˆå¯é€‰ï¼‰

ä½¿ç”¨Let's Encryptå…è´¹è¯ä¹¦ï¼š
```bash
sudo apt install certbot python3-certbot-nginx -y
sudo certbot --nginx -d your-domain.com
```

---

## ğŸ“Š ç›‘æ§å’Œç»´æŠ¤

### æŸ¥çœ‹æ—¥å¿—
```bash
# Railway
railway logs

# Render
åœ¨Renderæ§åˆ¶å°æŸ¥çœ‹

# è‡ªå»ºæœåŠ¡å™¨
sudo journalctl -u recipe-app -f
```

### æ›´æ–°åº”ç”¨
```bash
# Railway/Render
git push origin main  # è‡ªåŠ¨éƒ¨ç½²

# è‡ªå»ºæœåŠ¡å™¨
cd recipe-app
git pull
sudo systemctl restart recipe-app
```

---

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **API Keyå®‰å…¨**ï¼š
   - âŒ ä¸è¦åœ¨ä»£ç ä¸­ç¡¬ç¼–ç API Key
   - âœ… ä½¿ç”¨ç¯å¢ƒå˜é‡

2. **æ•°æ®åº“**ï¼š
   - å½“å‰ä½¿ç”¨JSONæ–‡ä»¶å­˜å‚¨
   - å¦‚éœ€æŒä¹…åŒ–ï¼Œè€ƒè™‘ä½¿ç”¨PostgreSQLæˆ–MongoDB

3. **æ€§èƒ½ä¼˜åŒ–**ï¼š
   - ä½¿ç”¨Gunicornå¤šè¿›ç¨‹
   - é…ç½®CDNåŠ é€Ÿé™æ€èµ„æº
   - ä½¿ç”¨Redisç¼“å­˜

4. **å¤‡ä»½**ï¼š
   - å®šæœŸå¤‡ä»½èœè°±æ•°æ®
   - ä½¿ç”¨Gitç®¡ç†ä»£ç 

---

## ğŸ’¡ æ¨èé…ç½®

### ä¸ªäººä½¿ç”¨ï¼šRailway
- ç®€å•å¿«é€Ÿ
- å…è´¹é¢åº¦å……è¶³
- è‡ªåŠ¨éƒ¨ç½²

### å›¢é˜Ÿä½¿ç”¨ï¼šè‡ªå»ºæœåŠ¡å™¨
- æ›´çµæ´»
- æˆæœ¬å¯æ§
- å®Œå…¨æŒæ§

### å…¬å¼€æœåŠ¡ï¼šRender + CDN
- æ°¸ä¹…å…è´¹
- å…¨çƒCDNåŠ é€Ÿ
- è‡ªåŠ¨SSL

---

## ğŸ†˜ å¸¸è§é—®é¢˜

### Q1: éƒ¨ç½²åAPIæ— æ³•è®¿é—®ï¼Ÿ
**A**: æ£€æŸ¥é˜²ç«å¢™å’Œç«¯å£é…ç½®ï¼Œç¡®ä¿ç«¯å£å¼€æ”¾ã€‚

### Q2: é™æ€æ–‡ä»¶404ï¼Ÿ
**A**: æ£€æŸ¥Flaskçš„static_folderé…ç½®æ˜¯å¦æ­£ç¡®ã€‚

### Q3: API Keyä¸å·¥ä½œï¼Ÿ
**A**: ç¡®è®¤ç¯å¢ƒå˜é‡å·²è®¾ç½®ï¼Œé‡å¯æœåŠ¡ã€‚

### Q4: æ€§èƒ½æ…¢ï¼Ÿ
**A**: å¢åŠ Gunicorn workersæ•°é‡ï¼Œä½¿ç”¨CDNã€‚

---

**ç¥éƒ¨ç½²é¡ºåˆ©ï¼ğŸ‰**
